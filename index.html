<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dino ile Ã–ÄŸren! - EÄŸlenceli Ã–ÄŸrenme Platformu</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff8585 0%, #f183be 100%);
            color: #333;
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            text-align: center;
        }

        .logo {
            font-size: 48px;
            color: #ff8787;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        h1 {
            color: #ff4141;
            font-size: 42px;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #cba56b;
            font-size: 20px;
            font-weight: 500;
        }

        nav {
            background: white;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
        }

        .nav-btn {
            background: linear-gradient(135deg, #3dffe2, #ff9292);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(255,217,61,0.3);
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(255,217,61,0.5);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, #ff9b9b, #6BCB77);
        }

        .section {
            display: none;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            animation: fadeIn 0.5s;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            color: #4D96FF;
            font-size: 36px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .kivi-tip {
            background: linear-gradient(135deg, #C3B1E1, #FFD93D);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border-left: 6px solid #FF9A3C;
        }

        .kivi-tip strong {
            color: #4D96FF;
            font-size: 20px;
            display: block;
            margin-bottom: 10px;
        }

        .story-box {
            background: #f9f9f9;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border: 3px solid #ffa88b;
            font-size: 20px;
            line-height: 1.8;
        }

        .story-title {
            color: #FF9A3C;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .btn {
            background: linear-gradient(135deg, #6BCB77, #4D96FF);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px 5px;
            transition: all 0.3s;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(227, 136, 136, 0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
        }

        .difficulty-selector {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .difficulty-btn {
            padding: 12px 25px;
            border-radius: 10px;
            border: 3px solid #ddd;
            background: white;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .difficulty-btn.selected {
            background: #FFD93D;
            border-color: #FF9A3C;
            color: white;
        }

        .emotions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .emotion-card {
            background: linear-gradient(135deg, #FFD93D, #FF9A3C);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 4px solid transparent;
        }

        .emotion-card:hover {
            transform: translateY(-5px);
            border-color: #4D96FF;
        }

        .emotion-icon {
            font-size: 64px;
            margin-bottom: 10px;
        }

        .emotion-name {
            color: white;
            font-size: 20px;
            font-weight: bold;
        }

        .journal-entry {
            background: #f9f9f9;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        textarea {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            border: 3px solid #FFD93D;
            font-size: 18px;
            font-family: inherit;
            resize: vertical;
            min-height: 120px;
        }

        .safety-scenario {
            background: #f0f8ff;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border-left: 6px solid #FF9A3C;
        }

        .scenario-question {
            font-size: 20px;
            color: #333;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .safety-rules {
            background: #ff8e8e;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }

        .safety-rules li {
            margin: 12px 0;
            font-size: 18px;
            line-height: 1.6;
        }

        .planner-input {
            display: grid;
            gap: 15px;
            margin: 20px 0;
        }

        .planner-input input, .planner-input select {
            padding: 15px;
            border-radius: 10px;
            border: 3px solid #FFD93D;
            font-size: 18px;
        }

        .schedule-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .schedule-table th {
            background: linear-gradient(135deg, #4D96FF, #ffb2b2);
            color: white;
            padding: 15px;
            font-size: 18px;
        }

        .schedule-table td {
            padding: 15px;
            border: 1px solid #ddd;
            font-size: 16px;
        }

        .quiz-container {
            margin: 20px 0;
        }

        .quiz-question {
            background: #f9f9f9;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border: 3px solid #6BCB77;
        }

        .quiz-options {
            display: grid;
            gap: 10px;
            margin: 15px 0;
        }

        .quiz-option {
            background: white;
            border: 3px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 18px;
        }

        .quiz-option:hover {
            background: #FFD93D;
            border-color: #FF9A3C;
        }

        .quiz-option.correct {
            background: #6BCB77;
            border-color: #4D96FF;
            color: white;
        }

        .quiz-option.wrong {
            background: #ff6b6b;
            border-color: #ee5a6f;
            color: white;
        }

        .result-box {
            background: linear-gradient(135deg, #FFD93D, #FF9A3C);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin: 20px 0;
            color: white;
        }

        .result-box h3 {
            font-size: 32px;
            margin-bottom: 15px;
        }

        .feedback-message {
            background: linear-gradient(135deg, #C3B1E1, #FFD93D);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            color: white;
            animation: bounce 0.5s;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .about-section {
            line-height: 1.8;
            font-size: 18px;
        }

        .about-section h3 {
            color: #4D96FF;
            font-size: 28px;
            margin: 25px 0 15px 0;
        }

        .about-section p {
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            h1 { font-size: 32px; }
            h2 { font-size: 28px; }
            .nav-btn { padding: 12px 18px; font-size: 16px; }
            .section { padding: 25px; }
            .emotions-grid { grid-template-columns: repeat(2, 1fr); }
        }

        .input-field {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            border: 3px solid #FFD93D;
            font-size: 18px;
            margin: 10px 0;
        }

        .task-list {
            background: #f9f9f9;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .task-item {
            background: white;
            border-left: 5px solid #6BCB77;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .delete-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }

        /* Storage status badge */
        .storage-badge {
            display: inline-block;
            background: #6BCB77;
            color: white;
            font-size: 13px;
            padding: 4px 10px;
            border-radius: 20px;
            margin-left: 10px;
            vertical-align: middle;
        }

        .storage-badge.loading {
            background: #FFD93D;
        }

        .storage-badge.error {
            background: #ff6b6b;
        }

        /* Stats bar on home */
        .stats-bar {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .stat-card {
            flex: 1;
            min-width: 140px;
            background: linear-gradient(135deg, #4D96FF, #6BCB77);
            color: white;
            border-radius: 12px;
            padding: 18px;
            text-align: center;
        }

        .stat-card .stat-num {
            font-size: 36px;
            font-weight: bold;
        }

        .stat-card .stat-label {
            font-size: 14px;
            margin-top: 4px;
            opacity: 0.9;
        }

        .journal-history-item {
            background: white;
            border-left: 5px solid #FFD93D;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            position: relative;
        }

        .journal-history-item .delete-journal-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }

        .loading-overlay {
            text-align: center;
            padding: 30px;
            color: #999;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">ğŸ¦–</div>
            <h1>Dino ile Ã–ÄŸren!</h1>
            <p class="subtitle">EÄŸlenceli Ã–ÄŸrenme MaceralarÄ±</p>
        </header>

        <nav>
            <button class="nav-btn active" onclick="showSection('home', this)">ğŸ  Ana Sayfa</button>
            <button class="nav-btn" onclick="showSection('punctuation', this)">âœï¸ Noktalama UstasÄ±</button>
            <button class="nav-btn" onclick="showSection('journal', this)">ğŸ˜Š Duygu GÃ¼nlÃ¼ÄŸÃ¼m</button>
            <button class="nav-btn" onclick="showSection('safety', this)">ğŸ›¡ï¸ Dijital ZorbalÄ±k RadarÄ±m</button>
            <button class="nav-btn" onclick="showSection('planner', this)">â° Zaman PlanlayÄ±cÄ±m</button>
            <button class="nav-btn" onclick="showSection('quiz', this)">ğŸ§  Mini Testler</button>
            <button class="nav-btn" onclick="showSection('about', this)">ğŸŒ HakkÄ±nda</button>
        </nav>

        <!-- ANA SAYFA -->
        <div id="home" class="section active">
            <h2>ğŸ¦– Merhaba! Ben Dino!</h2>
            <div class="kivi-tip">
                <strong>ğŸ‰ HoÅŸ Geldin!</strong>
                <p>Seninle birlikte Ã¶ÄŸrenmeye hazÄ±rÄ±m! YukarÄ±daki menÃ¼den hangi maceraya atÄ±lmak istediÄŸini seÃ§. Her bÃ¶lÃ¼mde sana yeni ÅŸeyler Ã¶ÄŸreteceÄŸim ve birlikte eÄŸleneceÄŸiz!</p>
            </div>

            <h3 style="color:#4D96FF; margin-bottom:10px;">ğŸ“Š Benim Ä°lerlemem <span id="stats-badge" class="storage-badge loading">YÃ¼kleniyor...</span></h3>
            <div class="stats-bar" id="stats-bar">
                <div class="stat-card"><div class="stat-num" id="stat-journal">-</div><div class="stat-label">ğŸ““ GÃ¼nlÃ¼k KaydÄ±</div></div>
                <div class="stat-card"><div class="stat-num" id="stat-tasks">-</div><div class="stat-label">âœ… PlanlanmÄ±ÅŸ GÃ¶rev</div></div>
                <div class="stat-card"><div class="stat-num" id="stat-quiz">-</div><div class="stat-label">ğŸ§  Quiz Skoru</div></div>
            </div>

            <div style="background: linear-gradient(135deg, #4D96FF, #f69489); border-radius: 15px; padding: 30px; color: white; text-align: center; margin: 30px 0;">
                <h3 style="font-size: 28px; margin-bottom: 15px;">ğŸŒŸ Neler Yapabiliriz?</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 12px;">
                        <div style="font-size: 48px; margin-bottom: 10px;">âœï¸</div>
                        <strong>Noktalama Ã–ÄŸren</strong>
                        <p>Hikayeler okuyarak noktalama ustasÄ± ol!</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 12px;">
                        <div style="font-size: 48px; margin-bottom: 10px;">ğŸ˜Š</div>
                        <strong>DuygularÄ±nÄ± PaylaÅŸ</strong>
                        <p>BugÃ¼n nasÄ±l hissettiÄŸini benimle paylaÅŸ!</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 12px;">
                        <div style="font-size: 48px; margin-bottom: 10px;">ğŸ›¡ï¸</div>
                        <strong>GÃ¼vende Kal</strong>
                        <p>Ä°nternette gÃ¼venli olmayÄ± Ã¶ÄŸren!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- NOKTALAMA USTASI -->
        <div id="punctuation" class="section">
            <h2>âœï¸ Noktalama UstasÄ±</h2>
            <div class="kivi-tip">
                <strong>Dino'dan Ä°pucu ğŸ¦–</strong>
                <p>Noktalama iÅŸaretleri cÃ¼mlelerin anlaÅŸÄ±lmasÄ±nÄ± saÄŸlar! VirgÃ¼l, nokta ve soru iÅŸareti kullanarak hikayelerimize anlam katalÄ±m. Her hikayeyi oku ve noktalama iÅŸaretlerini doÄŸru yerlere koy!</p>
            </div>

            <div class="difficulty-selector">
                <button class="difficulty-btn selected" onclick="selectDifficulty('kolay', this)">ğŸŒŸ Kolay</button>
                <button class="difficulty-btn" onclick="selectDifficulty('orta', this)">â­ Orta</button>
                <button class="difficulty-btn" onclick="selectDifficulty('zor', this)">ğŸŒ  Zor</button>
            </div>

            <div id="story-container"></div>
            <button class="btn" onclick="checkPunctuation()">âœ… CevabÄ± Kontrol Et</button>
            <button class="btn" onclick="nextStory()">â¡ï¸ Sonraki Hikaye</button>
            <div id="punctuation-feedback"></div>
        </div>

        <!-- DUYGU GÃœNLÃœÄÃœ -->
        <div id="journal" class="section">
            <h2>ğŸ˜Š Duygu GÃ¼nlÃ¼ÄŸÃ¼m <span id="journal-badge" class="storage-badge loading">YÃ¼kleniyor...</span></h2>
            <div class="kivi-tip">
                <strong>Dino'dan Ä°pucu ğŸ¦–</strong>
                <p>DuygularÄ±nÄ± paylaÅŸmak seni daha mutlu eder! BugÃ¼n nasÄ±l hissettiÄŸini seÃ§ ve benimle paylaÅŸ. Her duygu deÄŸerlidir ve senin bir parÃ§andÄ±r!</p>
            </div>

            <h3 style="color: #4D96FF; margin: 20px 0;">BugÃ¼n nasÄ±l hissediyorsun?</h3>
            <div class="emotions-grid">
                <div class="emotion-card" onclick="selectEmotion('mutlu', 'ğŸ˜Š')">
                    <div class="emotion-icon">ğŸ˜Š</div>
                    <div class="emotion-name">Mutlu</div>
                </div>
                <div class="emotion-card" onclick="selectEmotion('Ã¼zgÃ¼n', 'ğŸ˜¢')">
                    <div class="emotion-icon">ğŸ˜¢</div>
                    <div class="emotion-name">ÃœzgÃ¼n</div>
                </div>
                <div class="emotion-card" onclick="selectEmotion('kÄ±zgÄ±n', 'ğŸ˜ ')">
                    <div class="emotion-icon">ğŸ˜ </div>
                    <div class="emotion-name">KÄ±zgÄ±n</div>
                </div>
                <div class="emotion-card" onclick="selectEmotion('heyecanlÄ±', 'ğŸ¤—')">
                    <div class="emotion-icon">ğŸ¤—</div>
                    <div class="emotion-name">HeyecanlÄ±</div>
                </div>
                <div class="emotion-card" onclick="selectEmotion('ÅŸaÅŸkÄ±n', 'ğŸ˜²')">
                    <div class="emotion-icon">ğŸ˜²</div>
                    <div class="emotion-name">ÅaÅŸkÄ±n</div>
                </div>
                <div class="emotion-card" onclick="selectEmotion('yorgun', 'ğŸ˜´')">
                    <div class="emotion-icon">ğŸ˜´</div>
                    <div class="emotion-name">Yorgun</div>
                </div>
            </div>

            <div class="journal-entry">
                <label style="font-size: 20px; color: #4D96FF; font-weight: bold; display: block; margin-bottom: 10px;">
                    BugÃ¼n kendimi bÃ¶yle hissediyorum Ã§Ã¼nkÃ¼...
                </label>
                <textarea id="journal-text" placeholder="DuygularÄ±nÄ± buraya yaz..."></textarea>
                <button class="btn" onclick="saveJournal()">ğŸ’¾ Kaydet</button>
            </div>

            <div id="emotion-feedback"></div>
            <div id="journal-history" style="margin-top: 30px;">
                <div class="loading-overlay">ğŸ“‚ GÃ¼nlÃ¼k kayÄ±tlarÄ± yÃ¼kleniyor...</div>
            </div>
        </div>

        <!-- DÄ°JÄ°TAL ZORBALIK RADARI -->
        <div id="safety" class="section">
            <h2>ğŸ›¡ï¸ Dijital ZorbalÄ±k RadarÄ±m</h2>
            <div class="kivi-tip">
                <strong>Dino'dan Ä°pucu ğŸ¦–</strong>
                <p>Ä°nternet harika bir yer ama gÃ¼vende olmayÄ± bilmeliyiz! Dijital zorbalÄ±k internette birisine kasÄ±tlÄ± olarak kÃ¶tÃ¼ davranmaktÄ±r. Birlikte nasÄ±l gÃ¼vende kalacaÄŸÄ±mÄ±zÄ± Ã¶ÄŸrenelim!</p>
            </div>

            <div class="about-section" style="background: #ffdddd; padding: 25px; border-radius: 12px; margin: 20px 0;">
                <h3>ğŸ¤” Dijital ZorbalÄ±k Nedir?</h3>
                <p>Dijital zorbalÄ±k, internet, telefon veya sosyal medya Ã¼zerinden birine kÃ¶tÃ¼ mesajlar gÃ¶ndermek, dalga geÃ§mek veya rahatsÄ±z etmektir. Bu davranÄ±ÅŸlar insanlarÄ± Ã§ok Ã¼zebilir.</p>
                <h3 style="margin-top: 25px;">ğŸš¨ Dijital ZorbalÄ±k Ã–rnekleri:</h3>
                <ul style="margin-left: 25px; margin-top: 10px;">
                    <li>Birisi hakkÄ±nda kÃ¶tÃ¼ ÅŸeyler yazmak</li>
                    <li>UtandÄ±rÄ±cÄ± fotoÄŸraflar paylaÅŸmak</li>
                    <li>SÃ¼rekli kÃ¶tÃ¼ mesajlar gÃ¶ndermek</li>
                    <li>Birisini oyunlardan veya gruplardan dÄ±ÅŸlamak</li>
                </ul>
            </div>

            <h3 style="color: #ff9595; margin: 30px 0 20px 0;">ğŸ® SenaryolarÄ± Oku ve Karar Ver!</h3>
            <div id="scenario-container"></div>

            <div class="safety-rules">
                <h3 style="color: #4D96FF; margin-bottom: 15px;">ğŸ¦– Dino'nun GÃ¼venlik KurallarÄ±</h3>
                <ol style="margin-left: 25px;">
                    <li>KiÅŸisel bilgilerini (adres, telefon, okul adÄ±) kimseyle paylaÅŸma</li>
                    <li>TanÄ±madÄ±ÄŸÄ±n kiÅŸilerle konuÅŸma veya buluÅŸma</li>
                    <li>Åifrelerini kimseyle paylaÅŸma, anne-baban bile olsa not al</li>
                    <li>Ä°nternette sana kÃ¶tÃ¼ davranan varsa hemen bÃ¼yÃ¼klerine sÃ¶yle</li>
                    <li>BaÅŸkalarÄ±nÄ±n fotoÄŸraflarÄ±nÄ± izinsiz paylaÅŸma</li>
                    <li>Ä°nternette her gÃ¶rdÃ¼ÄŸÃ¼ne inanma, doÄŸruluÄŸunu araÅŸtÄ±r</li>
                    <li>Oyun oynarken veya sohbet ederken nazik ol</li>
                    <li>Birisinin sana kÃ¶tÃ¼ bir ÅŸey gÃ¶ndermesini istediyse reddet ve bÃ¼yÃ¼klerine sÃ¶yle</li>
                    <li>Ekran sÃ¼resine dikkat et, dinlenme molalarÄ± ver</li>
                    <li>Ä°nternette yaptÄ±ÄŸÄ±n her ÅŸeyin bir izi kalÄ±r, bu yÃ¼zden sorumlu davran</li>
                </ol>
            </div>

            <h3 style="color: #FF9A3C; margin: 30px 0 20px 0;">ğŸ“ GÃ¼venlik Mini Testi</h3>
            <div id="safety-quiz-container"></div>
            <button class="btn" onclick="checkSafetyQuiz()">âœ… CevaplarÄ± Kontrol Et</button>
            <div id="safety-quiz-feedback"></div>
        </div>

        <!-- ZAMAN PLANLAYICI -->
        <div id="planner" class="section">
            <h2>â° Zaman SÃ¼per PlanlayÄ±cÄ±m <span id="planner-badge" class="storage-badge loading">YÃ¼kleniyor...</span></h2>
            <div class="kivi-tip">
                <strong>Dino'dan Ä°pucu ğŸ¦–</strong>
                <p>ZamanÄ±nÄ± iyi kullanmak seni hem baÅŸarÄ±lÄ± hem de mutlu eder! Ã–devlerini, derslerini ve eÄŸlence zamanÄ±nÄ± planla. Her ÅŸey iÃ§in zaman var, sadece organize olmak gerekiyor!</p>
            </div>

            <div class="planner-input">
                <input type="text" id="task-name" class="input-field" placeholder="Ã–dev veya gÃ¶rev adÄ± (Ã¶r: Matematik Ã¶devi)">
                <select id="task-day" class="input-field">
                    <option value="">GÃ¼n SeÃ§</option>
                    <option value="Pazartesi">Pazartesi</option>
                    <option value="SalÄ±">SalÄ±</option>
                    <option value="Ã‡arÅŸamba">Ã‡arÅŸamba</option>
                    <option value="PerÅŸembe">PerÅŸembe</option>
                    <option value="Cuma">Cuma</option>
                    <option value="Cumartesi">Cumartesi</option>
                    <option value="Pazar">Pazar</option>
                </select>
                <input type="time" id="task-time" class="input-field">
                <button class="btn" onclick="addTask()">â• GÃ¶revi Ekle</button>
            </div>

            <div class="task-list" id="task-list">
                <h3 style="color: #4D96FF; margin-bottom: 15px;">ğŸ“‹ HaftalÄ±k PlanÄ±m</h3>
                <div id="tasks-display">
                    <div class="loading-overlay">ğŸ“‚ GÃ¶revler yÃ¼kleniyor...</div>
                </div>
            </div>

            <div style="margin-top: 15px;">
                <button class="btn btn-danger" onclick="clearAllTasks()">ğŸ—‘ï¸ TÃ¼m GÃ¶revleri Sil</button>
            </div>

            <div class="kivi-tip" style="margin-top: 30px;">
                <strong>â° Dino'nun Zaman YÃ¶netimi Tavsiyeleri</strong>
                <ul style="margin-left: 25px; margin-top: 15px; line-height: 1.8;">
                    <li>Her gÃ¼n aynÄ± saatte uyan ve yat, dÃ¼zenli uyku Ã§ok Ã¶nemli!</li>
                    <li>Ã–devlerini kÃ¼Ã§Ã¼k parÃ§alara bÃ¶l, her seferinde biraz yap</li>
                    <li>Zor iÅŸleri enerjinin yÃ¼ksek olduÄŸu zamanlarda yap</li>
                    <li>Her 30-45 dakikada bir kÄ±sa mola ver</li>
                    <li>Ã–dev yaparken televizyon ve oyunlardan uzak dur</li>
                    <li>YarÄ±n yapacaklarÄ±nÄ± akÅŸam listele</li>
                    <li>Kendine Ã¶dÃ¼l sistemi oluÅŸtur (Ã¶devi bitirince 15 dakika oyun gibi)</li>
                    <li>Ã–nce yapman gerekenler, sonra yapmak istediklerini yap</li>
                    <li>Bir ÅŸey yapmak istemiyorsan bile 5 dakika baÅŸla, sonra devam etmek kolaylaÅŸÄ±r</li>
                    <li>Haftada en az bir gÃ¼n tamamen dinlenme gÃ¼nÃ¼ ayÄ±r</li>
                    <li>Sabah kahvaltÄ±nÄ± asla atlama, beyin gÃ¼cÃ¼ iÃ§in Ã¶nemli!</li>
                    <li>Ã–devleri son gÃ¼ne bÄ±rakma, her gÃ¼n biraz Ã§alÄ±ÅŸ</li>
                    <li>Ã‡alÄ±ÅŸma alanÄ±nÄ± dÃ¼zenli tut, daÄŸÄ±nÄ±klÄ±k dikkat daÄŸÄ±tÄ±r</li>
                    <li>Aile ile vakit geÃ§irmeyi unutma, bu da Ã¶nemli!</li>
                    <li>Her baÅŸardÄ±ÄŸÄ±n gÃ¶revden sonra kendini kutla!</li>
                </ul>
            </div>
        </div>

        <!-- MÄ°NÄ° TESTLER -->
        <div id="quiz" class="section">
            <h2>ğŸ§  Mini Ã–ÄŸrenme Testleri</h2>
            <div class="kivi-tip">
                <strong>Dino'dan Ä°pucu ğŸ¦–</strong>
                <p>Testler Ã¶ÄŸrendiklerini pekiÅŸtirmenin en eÄŸlenceli yolu! DoÄŸru cevaplarÄ± bulmaya Ã§alÄ±ÅŸ, yanlÄ±ÅŸ yapsan bile Ã¶ÄŸrenirsin. Unutma, her hata bir Ã¶ÄŸrenme fÄ±rsatÄ±dÄ±r!</p>
            </div>

            <div class="difficulty-selector">
                <button class="difficulty-btn selected" onclick="selectQuizCategory('turkce', this)">ğŸ“š TÃ¼rkÃ§e</button>
                <button class="difficulty-btn" onclick="selectQuizCategory('matematik', this)">ğŸ”¢ Matematik</button>
                <button class="difficulty-btn" onclick="selectQuizCategory('genelkultur', this)">ğŸŒ Genel KÃ¼ltÃ¼r</button>
            </div>

            <div id="best-scores" style="margin: 15px 0;"></div>
            <div id="quiz-container"></div>
            <button class="btn" onclick="submitQuiz()" id="submit-quiz-btn" style="display:none;">âœ… CevaplarÄ± GÃ¶nder</button>
            <div id="quiz-result"></div>
        </div>

        <!-- HAKKINDA -->
        <div id="about" class="section">
            <h2>ğŸŒ HakkÄ±nda</h2>
            <div class="about-section">
                <h3>Dino kimdir? ğŸ¦–</h3>
                <p>Merhaba! Ben Dino, hem error robotik takÄ±mÄ±nÄ±n maskotu hem de senin Ã¶ÄŸrenme arkadaÅŸÄ±nÄ±m! Ã‡ok meraklÄ± ve Ã¶ÄŸrenmeyi seven bir dinozorum. Hayalim bÃ¼tÃ¼n Ã§ocuklarÄ±n Ã¶ÄŸrenirken eÄŸlenmesi ve kendilerini gÃ¼vende hissetmesi. Seninle birlikte olmaktan Ã§ok mutluyum!</p>

                <h3>ğŸ¯ Bu Site Neden Var?</h3>
                <p>Dino ile Ã–ÄŸren platformu, Ã§ocuklarÄ±n eÄŸlenirken Ã¶ÄŸrenmesi iÃ§in tasarlandÄ±. Burada hem TÃ¼rkÃ§e becerilerini geliÅŸtirecek, hem duygularÄ±nÄ± keÅŸfedecek, hem de dijital dÃ¼nyada gÃ¼vende olmayÄ± Ã¶ÄŸreneceksin. Ã–ÄŸrenmek her zaman eÄŸlenceli olmalÄ±!</p>

                <h3>ğŸ“ Ne Ã–ÄŸreneceksin?</h3>
                <ul style="margin-left: 25px; margin-top: 10px;">
                    <li><strong>Noktalama Ä°ÅŸaretleri:</strong> VirgÃ¼l, nokta, soru iÅŸareti gibi iÅŸaretleri doÄŸru kullanmayÄ± Ã¶ÄŸreneceksin</li>
                    <li><strong>Duygusal FarkÄ±ndalÄ±k:</strong> DuygularÄ±nÄ± tanÄ±mayÄ± ve ifade etmeyi Ã¶ÄŸreneceksin</li>
                    <li><strong>Dijital GÃ¼venlik:</strong> Ä°nternette nasÄ±l gÃ¼vende kalacaÄŸÄ±nÄ± keÅŸfedeceksin</li>
                    <li><strong>Zaman YÃ¶netimi:</strong> ZamanÄ±nÄ± iyi kullanmayÄ± ve organize olmayÄ± Ã¶ÄŸreneceksin</li>
                    <li><strong>Genel Bilgiler:</strong> TÃ¼rkÃ§e, matematik ve genel kÃ¼ltÃ¼r bilgini artÄ±racaksÄ±n</li>
                </ul>

                <h3>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Ebeveynler Ä°Ã§in</h3>
                <div style="background: #f0f8ff; padding: 25px; border-radius: 12px; margin-top: 15px;">
                    <p><strong>DeÄŸerli Ebeveynler,</strong></p>
                    <p>Dino ile Ã–ÄŸren, Ã§ocuÄŸunuzun gÃ¼venli bir ortamda Ã¶ÄŸrenmesini desteklemek iÃ§in tasarlandÄ±. Platform:</p>
                    <ul style="margin-left: 25px; margin-top: 10px;">
                        <li>âœ… Tamamen reklamsÄ±z ve gÃ¼venli</li>
                        <li>âœ… YaÅŸ grubuna uygun iÃ§erik</li>
                        <li>âœ… Dijital gÃ¼venlik eÄŸitimi iÃ§eriyor</li>
                        <li>âœ… Duygusal geliÅŸimi destekliyor</li>
                        <li>âœ… Akademik becerileri pekiÅŸtiriyor</li>
                    </ul>
                    <p style="margin-top: 15px;">Ã‡ocuÄŸunuzun geliÅŸimini takip edebilir ve birlikte kullanarak kaliteli zaman geÃ§irebilirsiniz.</p>
                </div>

                <h3>ğŸš€ FLL Innovation Project</h3>
                <div style="background: #fff8e1; padding: 25px; border-radius: 12px; margin-top: 15px;">
                    <p><strong>Problem:</strong> Ã‡ocuklar dijital dÃ¼nyada yeterli gÃ¼venlik bilgisine sahip olmadan vakit geÃ§iriyor ve temel eÄŸitim becerileri eÄŸlenceli yÃ¶ntemlerle Ã¶ÄŸretilmiyor.</p>
                    <p><strong>Ã‡Ã¶zÃ¼m:</strong> Dino ile Ã–ÄŸren, oyunlaÅŸtÄ±rÄ±lmÄ±ÅŸ eÄŸitim iÃ§erikleri ve dijital gÃ¼venlik eÄŸitimi sunarak Ã§ocuklarÄ±n hem akademik becerilerini hem de dijital okuryazarlÄ±klarÄ±nÄ± geliÅŸtiriyor.</p>
                    <p><strong>Hedef Kitle:</strong> 7-12 yaÅŸ arasÄ± Ã§ocuklar ve aileleri</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // =====================================================================
        // STORAGE HELPERS â€” localStorage (web sitesi iÃ§in kalÄ±cÄ± depolama)
        // =====================================================================
        async function storageGet(key) {
            try {
                const val = localStorage.getItem('dino-' + key);
                return val ? JSON.parse(val) : null;
            } catch (e) {
                return null;
            }
        }

        async function storageSet(key, value) {
            try {
                localStorage.setItem('dino-' + key, JSON.stringify(value));
                return true;
            } catch (e) {
                console.error('Storage set error:', e);
                return false;
            }
        }

        async function storageDelete(key) {
            try {
                localStorage.removeItem('dino-' + key);
                return true;
            } catch (e) {
                return false;
            }
        }

        function setBadge(id, text, type) {
            const el = document.getElementById(id);
            if (!el) return;
            el.textContent = text;
            el.className = 'storage-badge' + (type ? ' ' + type : '');
        }

        // =====================================================================
        // DATA
        // =====================================================================
        const stories = {
            kolay: [
                { wrong: "bugÃ¼n hava Ã§ok gÃ¼zel dÄ±ÅŸarÄ±da oynamak Ã§ok eÄŸlenceli olacak", correct: "BugÃ¼n hava Ã§ok gÃ¼zel. DÄ±ÅŸarÄ±da oynamak Ã§ok eÄŸlenceli olacak.", title: "GÃ¼zel Hava" },
                { wrong: "kedim Ã§ok sevimli onunla oynamayÄ± Ã§ok seviyorum", correct: "Kedim Ã§ok sevimli. Onunla oynamayÄ± Ã§ok seviyorum.", title: "Sevimli Kedi" },
                { wrong: "okula gitmek ister misin evet Ã§ok isterim", correct: "Okula gitmek ister misin? Evet, Ã§ok isterim.", title: "Okul ZamanÄ±" },
                { wrong: "elma portakal muz hepsi Ã§ok lezzetli meyveler", correct: "Elma, portakal, muz... Hepsi Ã§ok lezzetli meyveler.", title: "Meyveler" }
            ],
            orta: [
                { wrong: "annem bana sordu Ã¶devini yaptÄ±n mÄ± ben de henÃ¼z yapmadÄ±m dedim", correct: "Annem bana sordu: \"Ã–devini yaptÄ±n mÄ±?\" Ben de henÃ¼z yapmadÄ±m, dedim.", title: "Ã–dev Sohbeti" },
                { wrong: "parkta top oynamak koÅŸmak ve arkadaÅŸlarÄ±mla zaman geÃ§irmek Ã§ok eÄŸlenceli", correct: "Parkta top oynamak, koÅŸmak ve arkadaÅŸlarÄ±mla zaman geÃ§irmek Ã§ok eÄŸlenceli.", title: "Parkta EÄŸlence" },
                { wrong: "sabah kalktÄ±m diÅŸlerimi fÄ±rÃ§aladÄ±m kahvaltÄ± yaptÄ±m ve okula gittim", correct: "Sabah kalktÄ±m, diÅŸlerimi fÄ±rÃ§aladÄ±m, kahvaltÄ± yaptÄ±m ve okula gittim.", title: "Sabah Rutini" },
                { wrong: "favori renklerim mavi yeÅŸil ve sarÄ±dÄ±r senin favori rengin ne", correct: "Favori renklerim mavi, yeÅŸil ve sarÄ±dÄ±r. Senin favori rengin ne?", title: "Renkler" }
            ],
            zor: [
                { wrong: "Ã¶ÄŸretmen sÄ±nÄ±fa girdi ve dedi ki bugÃ¼n size Ã§ok Ã¶nemli bir ÅŸey anlatacaÄŸÄ±m herkes dikkat etsin", correct: "Ã–ÄŸretmen sÄ±nÄ±fa girdi ve dedi ki: \"BugÃ¼n size Ã§ok Ã¶nemli bir ÅŸey anlatacaÄŸÄ±m. Herkes dikkat etsin!\"", title: "Ã–ÄŸretmenin Duyurusu" },
                { wrong: "kÃ¼tÃ¼phanede kitap okumak Ã§alÄ±ÅŸmak ve araÅŸtÄ±rma yapmak iÃ§in sessiz olmak gerekir yoksa baÅŸkalarÄ±nÄ± rahatsÄ±z ederiz", correct: "KÃ¼tÃ¼phanede kitap okumak, Ã§alÄ±ÅŸmak ve araÅŸtÄ±rma yapmak iÃ§in sessiz olmak gerekir; yoksa baÅŸkalarÄ±nÄ± rahatsÄ±z ederiz.", title: "KÃ¼tÃ¼phane KurallarÄ±" },
                { wrong: "en sevdiÄŸim mevsim yazdÄ±r Ã§Ã¼nkÃ¼ dondurma yerim denize girerim ve uzun tatil yaparÄ±m kÄ±ÅŸÄ± da seviyorum ama yaz daha gÃ¼zel", correct: "En sevdiÄŸim mevsim yazdÄ±r; Ã§Ã¼nkÃ¼ dondurma yerim, denize girerim ve uzun tatil yaparÄ±m. KÄ±ÅŸÄ± da seviyorum ama yaz daha gÃ¼zel.", title: "Mevsimler" }
            ]
        };

        const motivationMessages = {
            mutlu: ["Harika! Mutlu olmak Ã§ok gÃ¼zel bir duygu. Bu enerjiyi paylaÅŸ!", "Senin mutluluÄŸun Dino'yu da Ã§ok mutlu ediyor! ğŸ¦–", "GÃ¼lÃ¼mseyen yÃ¼zler dÃ¼nyayÄ± daha gÃ¼zel yapar. HarikasÄ±n!"],
            Ã¼zgÃ¼n: ["ÃœzgÃ¼n hissetmek normal. Her duygu geÃ§icidir, yarÄ±n daha gÃ¼zel olacak!", "Dino seninle! ÃœzgÃ¼n olduÄŸunda sevdiklerinle konuÅŸ.", "Zor gÃ¼nler de olur, ama sen gÃ¼Ã§lÃ¼sÃ¼n. Hep yanÄ±ndayÄ±m! ğŸ¦–"],
            kÄ±zgÄ±n: ["KÄ±zgÄ±n olduÄŸunda Ã¶nce derin nefes al. Bu geÃ§ecek!", "Ã–fkeni saÄŸlÄ±klÄ± yollarla ifade et. KoÅŸmak veya resim yapmak iyi gelir!", "KÄ±zgÄ±nlÄ±k doÄŸal bir duygu. Ama kontrol altÄ±nda tutmak Ã¶nemli! ğŸ¦–"],
            heyecanlÄ±: ["Ne kadar heyecanlÄ±sÄ±n! Bu enerji muhteÅŸem!", "Heyecan gÃ¼zel ÅŸeylerin habercisi! Dino da seninle heyecanlanÄ±yor! ğŸ¦–", "Bu pozitif enerjiyle harika ÅŸeyler yapacaksÄ±n!"],
            ÅŸaÅŸkÄ±n: ["ÅaÅŸÄ±rmak Ã¶ÄŸrenmenin ilk adÄ±mÄ±! Merak et, keÅŸfet!", "DÃ¼nya sÃ¼rprizlerle dolu. ÅaÅŸÄ±rmaya devam et! ğŸ¦–", "Her ÅŸaÅŸkÄ±nlÄ±k yeni bir ÅŸey Ã¶ÄŸrenme fÄ±rsatÄ±dÄ±r!"],
            yorgun: ["Dinlenmek Ã§ok Ã¶nemli! Kendine iyi bak.", "Yorgun hissettiÄŸinde vÃ¼cudun sana bir ÅŸey sÃ¶ylÃ¼yor: Dinlen! ğŸ¦–", "Erken yat, iyi uyu. YarÄ±n kendini Ã§ok daha iyi hissedeceksin!"]
        };

        const safetyScenarios = [
            { question: "TanÄ±madÄ±ÄŸÄ±n biri sana sosyal medyada mesaj atÄ±yor ve seninle buluÅŸmak istiyor. Ne yapmalÄ±sÄ±n?", options: ["Hemen buluÅŸurum", "Anne babama haber veririm", "Adresimi gÃ¶nderirim"], correct: 1, explanation: "DoÄŸru! TanÄ±madÄ±ÄŸÄ±n kiÅŸilerle asla buluÅŸmamalÄ± ve hemen bÃ¼yÃ¼klerine haber vermelisin." },
            { question: "Bir oyunda karÅŸÄ±laÅŸtÄ±ÄŸÄ±n biri senden ÅŸifreni istiyor. Ne yapmalÄ±sÄ±n?", options: ["Åifremi paylaÅŸÄ±rÄ±m", "Asla ÅŸifre paylaÅŸmam", "Ã–nce arkadaÅŸlarÄ±ma sorarÄ±m"], correct: 1, explanation: "Harika! Åifreler Ã§ok gizlidir ve kimseyle paylaÅŸÄ±lmamalÄ±dÄ±r." },
            { question: "ArkadaÅŸÄ±n sana bir baÅŸka arkadaÅŸÄ±nÄ±z hakkÄ±nda kÃ¶tÃ¼ bir fotoÄŸraf gÃ¶nderiyor ve 'herkese gÃ¶nder' diyor. Ne yapmalÄ±sÄ±n?", options: ["Herkese gÃ¶nderirim", "GÃ¶ndermem ve arkadaÅŸÄ±mÄ± uyarÄ±rÄ±m", "Sadece birkaÃ§ kiÅŸiye gÃ¶nderirim"], correct: 1, explanation: "SÃ¼persin! BaÅŸkalarÄ±nÄ± utandÄ±racak ÅŸeyler paylaÅŸmak zorbalÄ±ktÄ±r." },
            { question: "Ä°nternette okuduÄŸun bir haber Ã§ok ilginÃ§ gÃ¶rÃ¼nÃ¼yor. Ne yapmalÄ±sÄ±n?", options: ["Hemen inanÄ±r ve paylaÅŸÄ±rÄ±m", "DoÄŸru olup olmadÄ±ÄŸÄ±nÄ± araÅŸtÄ±rÄ±rÄ±m", "Umursamam"], correct: 1, explanation: "MÃ¼kemmel! Ä°nternetteki her ÅŸey doÄŸru deÄŸildir, araÅŸtÄ±rmak Ã¶nemli." },
            { question: "Oyun oynarken biri sana kÃ¶tÃ¼ sÃ¶z sÃ¶yledi. Ne yapmalÄ±sÄ±n?", options: ["Ben de ona kÃ¶tÃ¼ sÃ¶z sÃ¶ylerim", "Oyunu bÄ±rakÄ±r ve bÃ¼yÃ¼klerime sÃ¶ylerim", "GÃ¶rmezden gelirim"], correct: 1, explanation: "DoÄŸru karar! Dijital zorbalÄ±ÄŸa karÅŸÄ± durmalÄ± ve yardÄ±m istemeliyiz." }
        ];

        const safetyQuizQuestions = [
            { question: "Åifremi en iyi arkadaÅŸÄ±mla paylaÅŸabilirim.", answer: false },
            { question: "TanÄ±madÄ±ÄŸÄ±m biriyle internette konuÅŸmamalÄ±yÄ±m.", answer: true },
            { question: "Her gÃ¶rdÃ¼ÄŸÃ¼m habere inanmalÄ±yÄ±m.", answer: false },
            { question: "Birileri beni rahatsÄ±z ediyorsa bÃ¼yÃ¼klerime sÃ¶ylemeliyim.", answer: true },
            { question: "ArkadaÅŸÄ±mÄ±n fotoÄŸrafÄ±nÄ± izinsiz paylaÅŸabilirim.", answer: false },
            { question: "Ä°nternette gerÃ§ek adÄ±mÄ± ve adresimi paylaÅŸmamalÄ±yÄ±m.", answer: true },
            { question: "Oyunda bana kÃ¶tÃ¼ davranan birine aynÄ± ÅŸekilde davranmalÄ±yÄ±m.", answer: false },
            { question: "Ekran baÅŸÄ±nda Ã§ok uzun sÃ¼re kalÄ±nca mola vermeliyim.", answer: true },
            { question: "TanÄ±madÄ±ÄŸÄ±m birinin toplantÄ± linkine tÄ±klayabilirim.", answer: false },
            { question: "Dijital zorbalÄ±k gerÃ§ek zorbalÄ±k kadar kÃ¶tÃ¼dÃ¼r.", answer: true }
        ];

        const quizQuestions = {
            turkce: [
                { question: "AÅŸaÄŸÄ±dakilerden hangisi noktalama iÅŸaretidir?", options: ["A", "B", ".", "M"], correct: 2 },
                { question: "'BugÃ¼n hava Ã§ok gÃ¼zel' cÃ¼mlesinde kaÃ§ tane isim vardÄ±r?", options: ["1", "2", "3", "4"], correct: 1 },
                { question: "Soru cÃ¼mlelerinin sonunda hangi iÅŸaret kullanÄ±lÄ±r?", options: [".", ",", "?", "!"], correct: 2 },
                { question: "'Elma, armut, muz' kelimelerinin arasÄ±nda hangi iÅŸaret vardÄ±r?", options: ["Nokta", "VirgÃ¼l", "NoktalÄ± virgÃ¼l", "Ä°ki nokta"], correct: 1 },
                { question: "AÅŸaÄŸÄ±dakilerden hangisi Ã¼nlem cÃ¼mlesidir?", options: ["NasÄ±lsÄ±n", "Ne gÃ¼zel", "Okula gidiyorum", "Kitap okuyorum"], correct: 1 },
                { question: "'Ã–ÄŸretmen sÄ±nÄ±fa girdi' cÃ¼mlesinde Ã¶zne nedir?", options: ["Ã–ÄŸretmen", "sÄ±nÄ±fa", "girdi", "sÄ±nÄ±f"], correct: 0 },
                { question: "CÃ¼mle kaÃ§ kelimeden oluÅŸur?", options: ["En az 1", "En az 2", "En az 3", "En az 5"], correct: 0 },
                { question: "AÅŸaÄŸÄ±dakilerden hangisi bÃ¼yÃ¼k harfle baÅŸlar?", options: ["elma", "Ankara", "kalem", "kitap"], correct: 1 },
                { question: "Ä°sim nedir?", options: ["Hareket bildiren", "VarlÄ±k bildiren", "Soru soran", "Emir veren"], correct: 1 },
                { question: "'KoÅŸ, oyna, gÃ¼l' cÃ¼mlesi ne tÃ¼r cÃ¼mledir?", options: ["Soru", "Emir", "Ãœnlem", "Haber"], correct: 1 }
            ],
            matematik: [
                { question: "5 + 3 = ?", options: ["6", "7", "8", "9"], correct: 2 },
                { question: "12 - 4 = ?", options: ["6", "7", "8", "9"], correct: 2 },
                { question: "3 x 4 = ?", options: ["7", "10", "12", "15"], correct: 2 },
                { question: "20 Ã· 4 = ?", options: ["4", "5", "6", "7"], correct: 1 },
                { question: "Bir Ã¼Ã§genin kaÃ§ kenarÄ± vardÄ±r?", options: ["2", "3", "4", "5"], correct: 1 },
                { question: "10 sayÄ±sÄ±nÄ±n yarÄ±sÄ± kaÃ§tÄ±r?", options: ["3", "4", "5", "6"], correct: 2 },
                { question: "2, 4, 6, 8, ... SÄ±radaki sayÄ± nedir?", options: ["9", "10", "11", "12"], correct: 1 },
                { question: "Bir saatte kaÃ§ dakika vardÄ±r?", options: ["50", "60", "70", "80"], correct: 1 },
                { question: "7 + 7 = ?", options: ["12", "13", "14", "15"], correct: 2 },
                { question: "Hangi sayÄ± en bÃ¼yÃ¼ktÃ¼r?", options: ["45", "54", "34", "43"], correct: 1 }
            ],
            genelkultur: [
                { question: "TÃ¼rkiye'nin baÅŸkenti neresidir?", options: ["Ä°stanbul", "Ankara", "Ä°zmir", "Bursa"], correct: 1 },
                { question: "Bir yÄ±lda kaÃ§ mevsim vardÄ±r?", options: ["2", "3", "4", "5"], correct: 2 },
                { question: "GÃ¼neÅŸ hangi yÃ¶nden doÄŸar?", options: ["Kuzey", "GÃ¼ney", "DoÄŸu", "BatÄ±"], correct: 2 },
                { question: "KaÃ§ gÃ¼n olunca bir hafta olur?", options: ["5", "6", "7", "8"], correct: 2 },
                { question: "Hangi hayvan sÃ¼t verir?", options: ["Kedi", "Ä°nek", "Aslan", "KuÅŸ"], correct: 1 },
                { question: "GÃ¶kkuÅŸaÄŸÄ±nda kaÃ§ renk vardÄ±r?", options: ["5", "6", "7", "8"], correct: 2 },
                { question: "En bÃ¼yÃ¼k gezegen hangisidir?", options: ["DÃ¼nya", "Mars", "JÃ¼piter", "VenÃ¼s"], correct: 2 },
                { question: "Hangi mevsimde kar yaÄŸar?", options: ["Yaz", "Ä°lkbahar", "Sonbahar", "KÄ±ÅŸ"], correct: 3 },
                { question: "Bir gÃ¼nde kaÃ§ saat vardÄ±r?", options: ["12", "20", "24", "30"], correct: 2 },
                { question: "Hangi hayvan uÃ§ar?", options: ["Kedi", "KÃ¶pek", "KuÅŸ", "BalÄ±k"], correct: 2 }
            ]
        };

        // =====================================================================
        // IN-MEMORY STATE (loaded from / saved to storage)
        // =====================================================================
        let currentDifficulty = 'kolay';
        let currentStoryIndex = 0;
        let tasks = [];          // saved under 'planner-tasks'
        let journalEntries = []; // saved under 'journal-entries'
        let bestScores = {};     // saved under 'quiz-best-scores'  e.g. {turkce: 8, matematik: 5}
        let currentQuizCategory = 'turkce';
        let quizAnswers = {};

        // =====================================================================
        // INIT â€” load everything from storage on page load
        // =====================================================================
        window.onload = async function () {
            // Load tasks
            const savedTasks = await storageGet('planner-tasks');
            if (savedTasks) tasks = savedTasks;

            // Load journal
            const savedJournal = await storageGet('journal-entries');
            if (savedJournal) journalEntries = savedJournal;

            // Load best scores
            const savedScores = await storageGet('quiz-best-scores');
            if (savedScores) bestScores = savedScores;

            // Update home stats
            updateHomeStats();

            // Load first story
            loadStory();
        };

        // =====================================================================
        // HOME STATS
        // =====================================================================
        async function updateHomeStats() {
            document.getElementById('stat-journal').textContent = journalEntries.length;
            document.getElementById('stat-tasks').textContent = tasks.length;
            const allScores = Object.values(bestScores);
            const avgScore = allScores.length > 0
                ? Math.round(allScores.reduce((a, b) => a + b, 0) / allScores.length)
                : 0;
            document.getElementById('stat-quiz').textContent = allScores.length > 0 ? avgScore + '/10' : '-';
            setBadge('stats-badge', 'ğŸ’¾ Kaydedildi', '');
        }

        // =====================================================================
        // NAV
        // =====================================================================
        function showSection(sectionId, btn) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            if (btn) btn.classList.add('active');

            if (sectionId === 'punctuation') {
                loadStory();
            } else if (sectionId === 'safety') {
                loadSafetyScenarios();
                loadSafetyQuiz();
            } else if (sectionId === 'quiz') {
                currentQuizCategory = 'turkce';
                document.querySelectorAll('#quiz .difficulty-btn').forEach((b, i) => b.classList.toggle('selected', i === 0));
                loadQuiz();
            } else if (sectionId === 'planner') {
                displayTasks();
                setBadge('planner-badge', `ğŸ“‹ ${tasks.length} gÃ¶rev`, '');
            } else if (sectionId === 'journal') {
                displayJournalHistory();
                setBadge('journal-badge', `ğŸ““ ${journalEntries.length} kayÄ±t`, '');
            } else if (sectionId === 'home') {
                updateHomeStats();
            }
        }

        // =====================================================================
        // NOKTALAMA USTASI
        // =====================================================================
        function selectDifficulty(level, btn) {
            currentDifficulty = level;
            currentStoryIndex = 0;
            document.querySelectorAll('#punctuation .difficulty-btn').forEach(b => b.classList.remove('selected'));
            if (btn) btn.classList.add('selected');
            loadStory();
        }

        function loadStory() {
            const story = stories[currentDifficulty][currentStoryIndex];
            const container = document.getElementById('story-container');
            container.innerHTML = `
                <div class="story-box">
                    <div class="story-title">${story.title}</div>
                    <div style="margin: 20px 0;">
                        <strong style="color: #FF9A3C;">Ä°ÅŸaretsiz Hikaye:</strong>
                        <p style="margin-top: 10px;">${story.wrong}</p>
                    </div>
                    <div style="margin-top: 20px;">
                        <label style="font-weight: bold; color: #4D96FF; display: block; margin-bottom: 10px;">
                            Senin Noktalaman (YukarÄ±daki hikayeyi doÄŸru noktalama iÅŸaretleriyle yaz):
                        </label>
                        <textarea id="user-punctuation" class="input-field" style="min-height: 100px; width: 100%;" placeholder="Hikayeyi doÄŸru noktalama iÅŸaretleriyle buraya yaz..."></textarea>
                    </div>
                </div>
            `;
            document.getElementById('punctuation-feedback').innerHTML = '';
        }

        function checkPunctuation() {
            const story = stories[currentDifficulty][currentStoryIndex];
            const userAnswer = document.getElementById('user-punctuation').value.trim();
            const feedback = document.getElementById('punctuation-feedback');

            if (!userAnswer) {
                feedback.innerHTML = '<div class="feedback-message" style="background: #ff6b6b;">LÃ¼tfen hikayeyi noktalama iÅŸaretleriyle yaz! ğŸ¦–</div>';
                return;
            }

            const similarity = userAnswer.toLowerCase() === story.correct.toLowerCase();

            if (similarity) {
                feedback.innerHTML = `
                    <div class="feedback-message">ğŸ‰ HarikasÄ±n! SÃ¼per Noktalama UstasÄ± oldun! ğŸ¦–</div>
                    <div class="story-box" style="background: #e8f5e9;">
                        <strong style="color: #4D96FF;">DoÄŸru Cevap:</strong>
                        <p style="margin-top: 10px;">${story.correct}</p>
                    </div>`;
            } else {
                feedback.innerHTML = `
                    <div class="feedback-message" style="background: linear-gradient(135deg, #FF9A3C, #FFD93D);">
                        ğŸ¤” Biraz daha dÃ¼ÅŸÃ¼n! Ä°pucu: Nokta, virgÃ¼l ve bÃ¼yÃ¼k harflere dikkat et! ğŸ¦–
                    </div>
                    <div class="story-box" style="background: #fff8e1;">
                        <strong style="color: #4D96FF;">DoÄŸru Cevap:</strong>
                        <p style="margin-top: 10px;">${story.correct}</p>
                    </div>`;
            }
        }

        function nextStory() {
            currentStoryIndex = (currentStoryIndex + 1) % stories[currentDifficulty].length;
            loadStory();
        }

        // =====================================================================
        // DUYGU GÃœNLÃœÄÃœ
        // =====================================================================
        function selectEmotion(emotion, icon) {
            const messages = motivationMessages[emotion];
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            document.getElementById('emotion-feedback').innerHTML = `
                <div class="feedback-message">${icon} ${randomMessage}</div>`;
        }

        async function saveJournal() {
            const text = document.getElementById('journal-text').value.trim();
            if (!text) { alert('LÃ¼tfen duygularÄ±nÄ± yaz!'); return; }

            const entry = {
                id: Date.now(),
                date: new Date().toLocaleDateString('tr-TR', { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' }),
                text: text
            };

            journalEntries.unshift(entry);

            setBadge('journal-badge', 'ğŸ’¾ Kaydediliyor...', 'loading');
            const ok = await storageSet('journal-entries', journalEntries);
            setBadge('journal-badge', ok ? `ğŸ““ ${journalEntries.length} kayÄ±t` : 'âš ï¸ KayÄ±t hatasÄ±', ok ? '' : 'error');

            document.getElementById('journal-text').value = '';
            document.getElementById('emotion-feedback').innerHTML = `
                <div class="feedback-message">ğŸ’¾ GÃ¼nlÃ¼ÄŸÃ¼n kaydedildi! Dino seninle gurur duyuyor! ğŸ¦–</div>`;

            displayJournalHistory();
            updateHomeStats();
        }

        async function deleteJournalEntry(id) {
            journalEntries = journalEntries.filter(e => e.id !== id);
            await storageSet('journal-entries', journalEntries);
            setBadge('journal-badge', `ğŸ““ ${journalEntries.length} kayÄ±t`, '');
            displayJournalHistory();
            updateHomeStats();
        }

        function displayJournalHistory() {
            const container = document.getElementById('journal-history');
            if (journalEntries.length === 0) {
                container.innerHTML = '';
                return;
            }

            let html = '<h3 style="color: #4D96FF; margin: 20px 0;">ğŸ“– GeÃ§miÅŸ KayÄ±tlarÄ±m</h3>';
            journalEntries.forEach(entry => {
                html += `
                    <div class="journal-history-item">
                        <button class="delete-journal-btn" onclick="deleteJournalEntry(${entry.id})">ğŸ—‘ï¸ Sil</button>
                        <div style="font-weight: bold; color: #FF9A3C; margin-bottom: 8px;">ğŸ“… ${entry.date}</div>
                        <p style="padding-right: 60px;">${entry.text}</p>
                    </div>`;
            });

            container.innerHTML = html;
        }

        // =====================================================================
        // DÄ°JÄ°TAL GÃœVENLÄ°K
        // =====================================================================
        function loadSafetyScenarios() {
            const container = document.getElementById('scenario-container');
            let html = '';
            safetyScenarios.forEach((scenario, index) => {
                html += `
                    <div class="safety-scenario">
                        <div class="scenario-question"><strong>Senaryo ${index + 1}:</strong> ${scenario.question}</div>
                        <div style="display: grid; gap: 10px; margin-top: 15px;">
                            ${scenario.options.map((option, optIndex) => `
                                <button class="quiz-option" onclick="checkScenario(${index}, ${optIndex})">
                                    ${option}
                                </button>`).join('')}
                        </div>
                        <div id="scenario-feedback-${index}" style="margin-top: 15px;"></div>
                    </div>`;
            });
            container.innerHTML = html;
        }

        function checkScenario(scenarioIndex, selectedOption) {
            const scenario = safetyScenarios[scenarioIndex];
            const feedback = document.getElementById(`scenario-feedback-${scenarioIndex}`);
            const buttons = document.querySelectorAll(`#scenario-container .safety-scenario:nth-child(${scenarioIndex + 1}) .quiz-option`);

            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (index === scenario.correct) btn.classList.add('correct');
                else if (index === selectedOption) btn.classList.add('wrong');
            });

            feedback.innerHTML = selectedOption === scenario.correct
                ? `<div style="background: #6BCB77; color: white; padding: 15px; border-radius: 10px;">âœ… ${scenario.explanation}</div>`
                : `<div style="background: #FF9A3C; color: white; padding: 15px; border-radius: 10px;">âš ï¸ ${scenario.explanation}</div>`;
        }

        function loadSafetyQuiz() {
            const container = document.getElementById('safety-quiz-container');
            let html = '';
            safetyQuizQuestions.forEach((q, index) => {
                html += `
                    <div class="quiz-question">
                        <div style="font-weight: bold; margin-bottom: 15px;">${index + 1}. ${q.question}</div>
                        <div style="display: flex; gap: 15px;">
                            <label style="cursor: pointer; font-size: 18px;">
                                <input type="radio" name="safety-q${index}" value="true" style="margin-right: 8px; width: 20px; height: 20px;">
                                DoÄŸru
                            </label>
                            <label style="cursor: pointer; font-size: 18px;">
                                <input type="radio" name="safety-q${index}" value="false" style="margin-right: 8px; width: 20px; height: 20px;">
                                YanlÄ±ÅŸ
                            </label>
                        </div>
                    </div>`;
            });
            container.innerHTML = html;
        }

        function checkSafetyQuiz() {
            let correct = 0;
            const total = safetyQuizQuestions.length;
            safetyQuizQuestions.forEach((q, index) => {
                const selected = document.querySelector(`input[name="safety-q${index}"]:checked`);
                if (selected && selected.value === String(q.answer)) correct++;
            });

            const percentage = (correct / total) * 100;
            let message = percentage === 100
                ? 'ğŸ‰ MÃ¼kemmel! Dijital GÃ¼venlik UzmanÄ±sÄ±n! Dino seninle gurur duyuyor! ğŸ¦–'
                : percentage >= 70
                    ? 'ğŸ‘ Harika! Dijital gÃ¼venlik konusunda Ã§ok iyisin! Biraz daha pratik yaparak mÃ¼kemmel olacaksÄ±n! ğŸ¦–'
                    : 'ğŸ’ª Ä°yi bir baÅŸlangÄ±Ã§! Dino\'nun gÃ¼venlik kurallarÄ±nÄ± tekrar oku ve testi yeniden dene! ğŸ¦–';

            document.getElementById('safety-quiz-feedback').innerHTML = `
                <div class="result-box">
                    <h3>Sonucun: ${correct} / ${total}</h3>
                    <p style="font-size: 22px; margin-top: 15px;">${message}</p>
                </div>`;
        }

        // =====================================================================
        // ZAMAN PLANLAYICI
        // =====================================================================
        async function addTask() {
            const taskName = document.getElementById('task-name').value.trim();
            const taskDay = document.getElementById('task-day').value;
            const taskTime = document.getElementById('task-time').value;

            if (!taskName || !taskDay || !taskTime) { alert('LÃ¼tfen tÃ¼m alanlarÄ± doldur!'); return; }

            tasks.push({ id: Date.now(), name: taskName, day: taskDay, time: taskTime });

            document.getElementById('task-name').value = '';
            document.getElementById('task-day').value = '';
            document.getElementById('task-time').value = '';

            setBadge('planner-badge', 'ğŸ’¾ Kaydediliyor...', 'loading');
            const ok = await storageSet('planner-tasks', tasks);
            setBadge('planner-badge', ok ? `ğŸ“‹ ${tasks.length} gÃ¶rev` : 'âš ï¸ KayÄ±t hatasÄ±', ok ? '' : 'error');

            displayTasks();
            updateHomeStats();
        }

        async function deleteTask(taskId) {
            tasks = tasks.filter(t => t.id !== taskId);
            await storageSet('planner-tasks', tasks);
            setBadge('planner-badge', `ğŸ“‹ ${tasks.length} gÃ¶rev`, '');
            displayTasks();
            updateHomeStats();
        }

        async function clearAllTasks() {
            if (!confirm('TÃ¼m gÃ¶revleri silmek istediÄŸinden emin misin?')) return;
            tasks = [];
            await storageSet('planner-tasks', tasks);
            setBadge('planner-badge', 'ğŸ“‹ 0 gÃ¶rev', '');
            displayTasks();
            updateHomeStats();
        }

        function displayTasks() {
            const container = document.getElementById('tasks-display');
            if (tasks.length === 0) {
                container.innerHTML = '<p style="color: #999; text-align: center; padding: 20px;">HenÃ¼z gÃ¶rev eklemedin. YukarÄ±dan yeni gÃ¶rev ekle!</p>';
                return;
            }

            const days = ['Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Cumartesi', 'Pazar'];
            let html = '';
            days.forEach(day => {
                const dayTasks = tasks.filter(t => t.day === day);
                if (dayTasks.length > 0) {
                    html += `<h4 style="color: #4D96FF; margin: 20px 0 10px 0;">ğŸ“… ${day}</h4>`;
                    dayTasks
                        .sort((a, b) => a.time.localeCompare(b.time))
                        .forEach(task => {
                            html += `
                                <div class="task-item">
                                    <div><strong style="color: #FF9A3C;">â° ${task.time}</strong> â€” ${task.name}</div>
                                    <button class="delete-btn" onclick="deleteTask(${task.id})">ğŸ—‘ï¸ Sil</button>
                                </div>`;
                        });
                }
            });

            container.innerHTML = html;
        }

        // =====================================================================
        // MÄ°NÄ° TESTLER
        // =====================================================================
        function selectQuizCategory(category, btn) {
            currentQuizCategory = category;
            quizAnswers = {};
            document.querySelectorAll('#quiz .difficulty-btn').forEach(b => b.classList.remove('selected'));
            if (btn) btn.classList.add('selected');
            loadQuiz();
        }

        function loadQuiz() {
            const questions = quizQuestions[currentQuizCategory];
            const container = document.getElementById('quiz-container');
            let html = '';

            questions.forEach((q, index) => {
                html += `
                    <div class="quiz-question">
                        <div style="font-weight: bold; font-size: 20px; margin-bottom: 15px;">${index + 1}. ${q.question}</div>
                        <div class="quiz-options">
                            ${q.options.map((option, optIndex) => `
                                <button class="quiz-option" onclick="selectQuizAnswer(${index}, ${optIndex})" id="quiz-${index}-${optIndex}">
                                    ${option}
                                </button>`).join('')}
                        </div>
                    </div>`;
            });

            container.innerHTML = html;
            document.getElementById('submit-quiz-btn').style.display = 'block';
            document.getElementById('quiz-result').innerHTML = '';
            renderBestScores();
        }

        function renderBestScores() {
            const labels = { turkce: 'ğŸ“š TÃ¼rkÃ§e', matematik: 'ğŸ”¢ Matematik', genelkultur: 'ğŸŒ Genel KÃ¼ltÃ¼r' };
            const entries = Object.entries(bestScores);
            if (entries.length === 0) {
                document.getElementById('best-scores').innerHTML = '';
                return;
            }
            let html = '<div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:10px;">';
            entries.forEach(([cat, score]) => {
                html += `<div style="background:linear-gradient(135deg,#FFD93D,#FF9A3C);color:white;padding:8px 16px;border-radius:20px;font-weight:bold;">
                    ${labels[cat] || cat}: En iyi ${score}/10 ğŸ†
                </div>`;
            });
            html += '</div>';
            document.getElementById('best-scores').innerHTML = html;
        }

        function selectQuizAnswer(questionIndex, optionIndex) {
            const question = quizQuestions[currentQuizCategory][questionIndex];
            for (let i = 0; i < question.options.length; i++) {
                const btn = document.getElementById(`quiz-${questionIndex}-${i}`);
                if (btn) { btn.style.background = 'white'; btn.style.borderColor = '#ddd'; }
            }
            const selectedBtn = document.getElementById(`quiz-${questionIndex}-${optionIndex}`);
            if (selectedBtn) { selectedBtn.style.background = '#FFD93D'; selectedBtn.style.borderColor = '#FF9A3C'; }
            quizAnswers[questionIndex] = optionIndex;
        }

        async function submitQuiz() {
            const questions = quizQuestions[currentQuizCategory];
            let correct = 0;

            questions.forEach((q, index) => {
                const userAnswer = quizAnswers[index];
                if (userAnswer !== undefined) {
                    for (let i = 0; i < q.options.length; i++) {
                        const btn = document.getElementById(`quiz-${index}-${i}`);
                        if (btn) {
                            btn.disabled = true;
                            if (i === q.correct) btn.classList.add('correct');
                            else if (i === userAnswer && userAnswer !== q.correct) btn.classList.add('wrong');
                        }
                    }
                    if (userAnswer === q.correct) correct++;
                }
            });

            const total = questions.length;

            // Save best score
            if (!bestScores[currentQuizCategory] || correct > bestScores[currentQuizCategory]) {
                bestScores[currentQuizCategory] = correct;
                await storageSet('quiz-best-scores', bestScores);
                updateHomeStats();
            }

            const percentage = (correct / total) * 100;
            let message = '', emoji = '';
            if (percentage === 100) { message = 'MÃ¼kemmelsin! Dino seninle gurur duyuyor! Her soruyu doÄŸru bildin!'; emoji = 'ğŸ‰ğŸ†'; }
            else if (percentage >= 80) { message = 'HarikasÄ±n! Ã‡ok iyi bir performans sergiledi! Dino Ã§ok mutlu!'; emoji = 'ğŸŒŸğŸ‘'; }
            else if (percentage >= 60) { message = 'Ä°yi iÅŸ Ã§Ä±kardÄ±n! Biraz daha pratik yaparak daha da iyileÅŸebilirsin!'; emoji = 'ğŸ‘ğŸ˜Š'; }
            else { message = 'BaÅŸlangÄ±Ã§ iÃ§in iyi! KonularÄ± tekrar gÃ¶zden geÃ§ir ve yeniden dene!'; emoji = 'ğŸ’ªğŸ¦–'; }

            const isNewBest = bestScores[currentQuizCategory] === correct;

            document.getElementById('quiz-result').innerHTML = `
                <div class="result-box">
                    <div style="font-size: 64px; margin-bottom: 15px;">${emoji}</div>
                    <h3>Sonucun: ${correct} / ${total}</h3>
                    ${isNewBest ? '<div style="font-size:22px;margin:8px 0;">ğŸ† Yeni en iyi skor!</div>' : ''}
                    <p style="font-size: 20px; margin-top: 15px;">${message}</p>
                    <button class="btn" onclick="loadQuiz()" style="margin-top: 20px;">ğŸ”„ Testi Yeniden BaÅŸlat</button>
                </div>`;

            document.getElementById('submit-quiz-btn').style.display = 'none';
            renderBestScores();
        }
    </script>
</body>
</html>